{% extends 'base.html' %}
{% load staticfiles %}
{% block title %}主机列表{% endblock %}
{% block custom_css %}
	<style type="text/css">

        /*设置表格的宽度固定，不会因为内容过长而出现换行*/
        table{
            table-layout:fixed;
        }
        /*设置表格内容过长出现滚动条*/
        /*td{*/
            /*overflow:auto;*/
            /*text-overflow:clip;white-space:nowrap;*/
        /*}*/

        tbody tr:hover{
        background-color:#9b9b9b !important;
            color: #000;
        }
        /*让列表内的信息上下居中,默认是换行的，但是词内默认没换行要设置word-break实现词内换行*/
        td{
            vertical-align:middle !important;
            text-align: center;
            word-break:break-all;
        }

        th{
            text-align: center;
        }

        /*添加表单滚动*/
        .overflow_set{
        	overflow: auto;
        }
    </style>

{% endblock %}

{% block custom_js %}
<script>
    	$(function() {

    	    // 响应式调整页面高度
    		$(window).resize(function() {

                // 表单的大小自适应窗口，不能设置100%，因为除了表单以外其他东西也会占用高度
                $('.overflow_set').css(
                    "height", $('.hall').height() * 0.9);
            });
    		$(window).resize();

//            $("#collapse1").addClass("in");
            function initTableCheckbox() {
                        var $thr = $('table thead tr');
                        var $checkAllTh = $('#checkAll').parent();
                        /*将全选/反选复选框添加到表头最前，即增加一列*/
//                        $thr.prepend($checkAllTh);
                        /*“全选/反选”复选框*/
                        var $checkAll = $thr.find('input');
                        $checkAll.click(function(event){
                            /*将所有行的选中状态设成全选框的选中状态*/
                            $tbr.find('input').prop('checked',$(this).prop('checked'));
                            /*并调整所有选中行的CSS样式*/
                            if ($(this).prop('checked')) {
                                $tbr.find('input').parent().parent().addClass('warning');
                            } else{
                                $tbr.find('input').parent().parent().removeClass('warning');
                            }
                            /*阻止向上冒泡，以防再次触发点击操作*/
                            event.stopPropagation();
                        });
                        /*点击全选框所在单元格时也触发全选框的点击操作*/
                        $checkAllTh.click(function(){
                            $(this).find('input').click();
                        });
                        var $tbr = $('table tbody tr');
                        var $checkItemTd = $('<td><input type="checkbox" name="checkItem" /></td>');
                        /*每一行都在最前面插入一个选中复选框的单元格*/
//                        $tbr.prepend($checkItemTd);
                        /*点击每一行的选中复选框时*/
                        $tbr.find('input').click(function(event){
                            /*调整选中行的CSS样式*/
                            $(this).parent().parent().toggleClass('warning');
                            /*如果已经被选中行的行数等于表格的数据行数，将全选框设为选中状态，否则设为未选中状态*/
                            $checkAll.prop('checked',$tbr.find('input:checked').length == $tbr.length ? true : false);
                            /*阻止向上冒泡，以防再次触发点击操作*/
                            event.stopPropagation();
                        });
                        /*点击每一行时也触发该行的选中操作*/
                        $tbr.click(function(){
                            $(this).find('input').click();
                        });
                    }
                    initTableCheckbox();
        });
</script>
{% endblock %}

{% block panel-title_content %}主机列表{% endblock %}

{% block panel_body_content %}

<div class="row-fluid ">
    <div class="col-xs-12 overflow_set"  >
        <div style="margin-bottom: 5px;">
            <form class="form-inline" role="form">
                <div class="form-group">
                    <button type="button" class="btn btn-success ">添加主机</button>
                </div>


                  <div class="form-group pull-right">
                    <label for="name">查询字段</label>
                    <select class="form-control" id="server_select">
                      <option value="ipaddr">IP地址</option>
                      <option value="status">状态</option>
                      <option value="ipcidr">3</option>
                      <option value="ipcidr">4</option>
                      <option value="ipcidr">5</option>
                    </select>
                      <input type="text" class="form-control" id="name" placeholder="请输入名称">
                    <button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-search" style="vertical-align: middle;"></span>查询</button>
                  </div>

                </form>

        </div>
        <table class="table table-hover  table-bordered table-striped table-responsive" >
            <!--<caption>主机列表</caption>-->
            <thead>
            <!--给下面tr加个success是bootstrap的一个类颜色会改变下呵呵-->
              <tr class="success">
                  <th width="4%"><input type="checkbox" id="checkAll" name="checkAll" /></th>
                <th width="11%">IP地址</th>
                <th width="11%">主机名</th>
                <th width="11%">系统</th>
                <th width="13%">创建时间</th>
                  <th width="13%">最近一次更新时间</th>
                  <th width="5%">状态</th>
                  <!--<th width="6%">Minion</th>-->
                  <th width="10%">描述备注</th>
                  <th width="24%">操作</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <!--<td><div><input type="checkbox" value="0"></div></td>-->
                  <td><input type="checkbox" name="checkItem" /></td>
                <td>192.168.192.154</td>
                <td>soosdfj-3423</td>
                <td>CentOS-6.5</td>
                <td>2017-06-07 18:23</td>
                  <td>2017-06-07 18:23</td>
                  <td>在线</td>
                  <!--<td>UP</td>-->
                  <td>测试服务器</td>
                  <td><button type="button" class="btn btn-primary">查看</button>
                  <button type="button" class="btn btn-info">编辑</button>
                  <button type="button" class="btn btn-danger">删除</button>
                  </td>
              </tr>
              <tr>
                <!--<td><div><input type="checkbox" value="0"></div></td>-->
                  <td><input type="checkbox" name="checkItem" /></td>
                <td>192.168.192.154</td>
                <td>soosdfj-3423</td>
                <td>Windows 2008</td>
                <td>2017-06-07 18:23</td>
                  <td>2017-06-07 18:23</td>
                  <td>离线</td>
                  <!--<td>未安装</td>-->
                  <td>测试服务器</td>
                  <td><button type="button" class="btn btn-primary">查看</button>
                  <button type="button" class="btn btn-info">编辑</button>
                  <button type="button" class="btn btn-danger">删除</button>
                  </td>
              </tr>
              <tr>
                <!--<td><div><input type="checkbox" value=2></div></td>-->
                  <td><input type="checkbox" name="checkItem" /></td>
                <td>江贤福</td>
                <td>xxxxxx</td>
                <td>成功</td>
                  <td>2017-06-07 18:23</td>
              </tr>
              <tr>
                <!--<td><div><input type="checkbox" value=3></div></td>-->
                  <td><input type="checkbox" name="checkItem" /></td>
                <td>江贤福</td>
                <td>xxxxxx</td>
                <td>成功</td>
                  <td>2017-06-07 18:23</td>
              </tr>
              <tr>
                <!--<td><div><input type="checkbox" value=4></div></td>-->
                  <td><input type="checkbox" name="checkItem" /></td>
                <td>江贤福</td>
                <td>xxxxxx</td>
                <td>成功</td>
                  <td>2017-06-07 18:23</td>
              </tr>
              <tr>
                <!--<td><div><input type="checkbox" value=5></div></td>-->
                  <td><input type="checkbox" name="checkItem" /></td>
                <td>江贤福</td>
                <td>xxxxxx</td>
                <td>成功</td>
                <td>2017-06-07 18:23</td>
              </tr>

            </tbody>
          </table>
    </div>
</div>


{% endblock %}

{% block another_content %}

{% endblock %}